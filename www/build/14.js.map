{"version":3,"sources":["../../src/pages/match/match.module.ts","../../src/pages/match/match.ts"],"names":[],"mappings":"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","file":"14.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MatchPage } from './match';\nimport { ComponentsModule } from '../../components/components.module'\n\n@NgModule({\n  declarations: [\n    MatchPage,\n  ],\n  imports: [\n    ComponentsModule,\n    IonicPageModule.forChild(MatchPage),\n  ],\n  exports: [\n    MatchPage\n  ]\n})\nexport class MatchPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/match/match.module.ts","import { Request } from \"./../../models/request\";\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { MyTeamDB } from '../../helpers/myTeamDB';\nimport { AngularFireDatabase, FirebaseObjectObservable } from 'angularfire2/database';\nimport { AngularFireAuth } from 'angularfire2/auth';\n\n/**\n * Generated class for the MatchPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage({\n  segment: 'match/:id'\n})\n@Component({\n  selector: 'page-match',\n  templateUrl: 'match.html',\n})\nexport class MatchPage {\n  requestID: any\n  request: FirebaseObjectObservable<any>;\n  requestInfo: any;\n  previousGames: any[] = []\n  currentUser: boolean = false\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    private view: ViewController,\n    private teamDB: MyTeamDB,\n    public db: AngularFireDatabase,\n    public afAuth: AngularFireAuth) {\n    this.requestID = this.navParams.get('id');\n    this.request = this.db.object('/matches/' + this.requestID)\n  }\n\n  async ionViewDidLoad() {\n    await this.teamDB.getMatchInfo(this.requestID).then(data => {\n      this.requestInfo = data;\n    })\n    await this.teamDB.getLoggedInUser().then(uid => {\n      if (this.requestInfo.toUID == uid) this.currentUser = true;\n    })\n  }\n\n  acceptMatch() {\n    // Update request status\n    this.db.object('/matches/' + this.requestID).update({ status: 'approved' })\n\n    // Remove Request\n    this.db.object('users/' + this.requestInfo.toUID + '/requests/' + this.requestID).remove();\n\n    // Add match to home team DB\n    this.db.object('/teams/' + this.requestInfo.homeTeam + '/upcomingMatches/'\n      + this.requestID).set({\n        homeTeam: this.requestInfo.homeTeam,\n        awayTeam: this.requestInfo.awayTeam,\n      })\n\n    // Add match to away team DB\n    this.db.object('/teams/' + this.requestInfo.awayTeam + '/upcomingMatches/'\n      + this.requestID).set({\n        homeTeam: this.requestInfo.homeTeam,\n        awayTeam: this.requestInfo.awayTeam,\n      })\n  }\n\n  declineMatch() {\n    this.db.object('/matches/' + this.requestID).remove();\n    this.view.dismiss();\n  }\n\n  openTeam(teamID) {\n    this.navCtrl.push('TeamPage', { id: teamID })\n  }\n\n  closeModel() {\n    this.view.dismiss();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/match/match.ts"],"sourceRoot":""}