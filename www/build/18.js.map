{"version":3,"sources":["../../src/pages/choose-username/choose-username.module.ts","../../src/pages/choose-username/choose-username.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAuD;AACd;AACO;AAahD,IAAa,wBAAwB;IAArC;IAAwC,CAAC;IAAD,+BAAC;AAAD,CAAC;AAA5B,wBAAwB;IAXpC,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,4EAAkB;SACnB;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,4EAAkB,CAAC;SAC7C;QACD,OAAO,EAAE;YACP,4EAAkB;SACnB;KACF,CAAC;GACW,wBAAwB,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;ACfK;AAC8D;AAC/C;AACK;AACF;AAE5D;;;;;GAKG;AAMH,IAAa,kBAAkB;IAK7B,4BAAmB,OAAsB,EAChC,SAAoB,EACnB,EAAuB,EACvB,KAAkB,EAClB,UAA6B,EAC7B,aAA8B,EAC9B,WAA8B;QANrB,YAAO,GAAP,OAAO,CAAe;QAChC,cAAS,GAAT,SAAS,CAAW;QACnB,OAAE,GAAF,EAAE,CAAqB;QACvB,UAAK,GAAL,KAAK,CAAa;QAClB,eAAU,GAAV,UAAU,CAAmB;QAC7B,kBAAa,GAAb,aAAa,CAAiB;QAC9B,gBAAW,GAAX,WAAW,CAAmB;QACtC,IAAI,iBAAiB,GAAG,UAAC,OAAO;YAC9B,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC3C,CAAC,CAAC;QACF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;YACnC,UAAU,EAAE,CAAC,EAAE,EAAE,kEAAU,CAAC,OAAO,CAAC,CAAC,kEAAU,CAAC,QAAQ,EAAE,kEAAU,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC,CAAC,EAAE,iBAAiB,CAAC;SACxH,CAAC;QACF,IAAI,CAAC,OAAO,CAAC,gBAAgB,GAAG,KAAK,CAAC;QACtC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC,GAAG,EAAE,CAAC;IAC7D,CAAC;IAED,qCAAQ,GAAR;QACE,IAAI,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACzC,mBAAmB,EAAE,IAAI;YACzB,OAAO,EAAE,UAAU;SACpB,CAAC;QACF,YAAY,CAAC,OAAO,EAAE,CAAC;QACvB,IAAM,QAAQ,GAAG,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;QAC5E,QAAQ,CAAC,MAAM,CAAC;YACd,gBAAgB,EAAE,IAAI,CAAC,QAAQ;YAC/B,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE;SACtC,CAAC,CAAC;QAEH,IAAM,YAAY,GAAG,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,CAAC;QACjF,YAAY,CAAC,GAAG,CAAC;YACf,OAAO,EAAE,MAAM;SAChB,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC;IAClC,CAAC;IAED,sCAAS,GAAT;QACE,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,OAAO,EAAE,CAAC;IACnD,CAAC;IAEH,yBAAC;AAAD,CAAC;AA9CY,kBAAkB;IAL9B,wEAAS,EAAE;IACX,wEAAS,CAAC;QACT,QAAQ,EAAE,sBAAsB;OACG;KACpC,CAAC;yEAMyC;QACrB,kFAAS;QACf,oEAAmB;QAChB,+EAAW;QACN,uEAAiB;QACd,wEAAe;QACjB,eAAiB;AAmCzC;SA9CY,kBAAkB,gB","file":"18.js","sourcesContent":["import { ChooseUsernamePage } from \"./choose-username\";\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\n\n@NgModule({\n  declarations: [\n    ChooseUsernamePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ChooseUsernamePage),\n  ],\n  exports: [\n    ChooseUsernamePage\n  ]\n})\nexport class ChooseUsernamePageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/choose-username/choose-username.module.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, IonicPage, ModalController, LoadingController } from \"ionic-angular\";\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { UsernameValidator } from '../../validators/username';\nimport { AngularFireDatabase } from 'angularfire2/database';\n\n/**\n * Generated class for the ChooseUsernamePage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-choose-username',\n  templateUrl: 'choose-username.html',\n})\nexport class ChooseUsernamePage {\n\n  public registerForm: any;\n  username: string\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    private db: AngularFireDatabase,\n    private _form: FormBuilder,\n    private unameValid: UsernameValidator,\n    private mdlController: ModalController,\n    private loadingCtrl: LoadingController) {\n    let usernameValidator = (control) => {\n      return unameValid.checkUsername(control);\n    };\n    this.registerForm = this._form.group({\n      \"username\": ['', Validators.compose([Validators.required, Validators.pattern('^[a-zA-Z0-9_.-]*$')]), usernameValidator]\n    })\n    this.navCtrl.swipeBackEnabled = false;\n    this.username = this.navParams.get('twitterUsername') + '';\n  }\n\n  register() {\n    let loginLoading = this.loadingCtrl.create({\n      dismissOnPageChange: true,\n      spinner: 'crescent'\n    })\n    loginLoading.present();\n    const userInfo = this.db.object('/users/' + this.navParams.get('user').uid);\n    userInfo.update({\n      originalUsername: this.username,\n      username: this.username.toLowerCase(),\n    });\n\n    const usernameInfo = this.db.object('/usernames/' + this.username.toLowerCase());\n    usernameInfo.set({\n      twitter: 'true'\n    });\n\n    this.navCtrl.setRoot('TabsPage')\n  }\n\n  openTerms() {\n    this.mdlController.create('TermsPage').present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/choose-username/choose-username.ts"],"sourceRoot":""}