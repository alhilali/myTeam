{"version":3,"sources":["../../src/pages/compose/compose.module.ts","../../src/pages/compose/compose.ts"],"names":[],"mappings":"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","file":"17.js","sourcesContent":["import { ComponentsModule } from \"./../../components/components.module\";\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ComposePage } from './compose';\n\n@NgModule({\n  declarations: [\n    ComposePage,\n  ],\n  imports: [\n    ComponentsModule,\n    IonicPageModule.forChild(ComposePage),\n  ],\n  exports: [\n    ComposePage\n  ]\n})\nexport class ComposePageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/compose/compose.module.ts","import { Post } from \"./../../models/post\";\nimport { MyTeamDB } from \"./../../helpers/myTeamDB\";\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport * as moment from 'moment';\nimport { CalendarController } from \"ion2-calendar/dist\";\n/**\n * Generated class for the ComposePage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-compose',\n  templateUrl: 'compose.html',\n})\nexport class ComposePage {\n  composeForm: any;\n  myTeams = []\n  player: any\n  post = {} as Post;\n  date = new Date().toLocaleDateString()\n  title: string = ''\n  info: string = ''\n  type: string = 'general';\n  selectedTeam: any\n  matchDate: any\n  month: string = ''\n  day: string = ''\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    private view: ViewController,\n    private _form: FormBuilder,\n    private db: AngularFireDatabase,\n    private teamDB: MyTeamDB,\n    private calendarCtrl: CalendarController) {\n    this.player = this.navParams.get('player');\n    this.composeForm = _form.group({\n      \"title\": [\"\",\n        Validators.compose([Validators.maxLength(30),\n        Validators.minLength(1),\n        Validators.required])],\n      \"info\": [\"\",\n        Validators.compose([Validators.maxLength(150)])]\n    })\n    this.matchDate = moment().format('L')\n    this.month = moment().format('MMM')\n    this.day = moment().format('D')\n  }\n\n  async segmentChanged() {\n    if (this.type == 'match') {\n      await this.teamDB.getMyTeamsCaptain().then(data => {\n        this.myTeams = data;\n      })\n    }\n  }\n\n  selectTeam(team) {\n    this.selectedTeam = team;\n  }\n\n  openCalendar() {\n    this.calendarCtrl.openCalendar({\n      title: 'تاريخ المباراة',\n      weekdaysTitle: [\"الاحد\", \"الاثنين\", \"الثلاثاء\", \"الاربعاء\", \"الخميس\", \"الجمعة\", \"السبت\"],\n      cssClass: 'matchCalender',\n      closeIcon: true,\n      closeLabel: 'close',\n      doneLabel: 'md-checkmark',\n      doneIcon: true\n    })\n      .then((res: any) => {\n        const selectedDate = new Date(res.date.time).toDateString();\n        var momentDate = moment(selectedDate, 'ddd MMM D YYYY', 'en');\n        this.matchDate = momentDate.format('L')\n        this.month = momentDate.format('MMM')\n        this.day = momentDate.format('D')\n      })\n      .catch(() => {\n        console.log(\"error\")\n      })\n  }\n\n  submit() {\n    this.post.by = this.player.$key;\n    this.post.title = this.title;\n    this.post.info = this.info;\n    this.post.date = moment.utc().format('YYYY-MM-DD HH:mm:ss');\n    this.post.type = this.type;\n    this.post.timestamp = new Date().getTime();\n    if (this.type == 'match') {\n      this.post.teamID = this.selectedTeam.$key;\n      this.post.matchDate = this.matchDate;\n    }\n    this.db.list('timeline/').push(this.post).then(() => {\n      this.view.dismiss({ postDone: true });\n    })\n  }\n\n  closeModal() {\n    this.view.dismiss({ postDone: false });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/compose/compose.ts"],"sourceRoot":""}