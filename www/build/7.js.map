{"version":3,"sources":["../../src/pages/start-team/start-team.module.ts","../../src/pages/start-team/start-team.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { StartTeamPage } from './start-team';\n\n@NgModule({\n  declarations: [\n    StartTeamPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(StartTeamPage),\n  ],\n  exports: [\n    StartTeamPage\n  ]\n})\nexport class StartTeamPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/start-team/start-team.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { FormBuilder, Validators } from '@angular/forms';\n\n/**\n * Generated class for the StartTeamPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-start-team',\n  templateUrl: 'start-team.html',\n})\nexport class StartTeamPage {\n  team: any;\n  public teamForm: any;\n\n  constructor(\n    private view: ViewController,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private afAuth: AngularFireAuth,\n    private db: AngularFireDatabase,\n    private _form: FormBuilder) {\n    this.team = {};\n    this.teamForm = this._form.group({\n      \"name\": [\"\", Validators.required],\n      \"city\": [\"الرياض\"]\n    })\n  }\n\n  closeModal() {\n    this.view.dismiss();\n  }\n\n  saveTeam(team) {\n    let newKey = new Date().getTime();\n    const ref = this.db.object('/teams/' + newKey);\n    const saveSub = this.afAuth.authState.subscribe(data => {\n      if (data && data.uid) {\n        let uid = data.uid\n        ref.set({\n          captain: uid,\n          name: team.name,\n          city: team.city || 'الرياض',\n          logo: 'http://playerleague.it/uploads/club/242d7e5ff1bd143ca11fd4d4b0dd1f8a.png',\n          bg: 'https://www.buscandonomes.com.br/_img/xthumb-default.gif.pagespeed.ic.yQYWf40TN9.png',\n          estDate: new Date().toDateString()\n        })\n\n        // Add player to players list DB\n        const playersList = this.db.object('/playersList/' + newKey + '/' + uid);\n        playersList.set({ uid: uid, status: 'enrolled' });\n\n        // Add team to user list DB\n        this.db.object('/users/' + uid + '/myTeams/' + newKey)\n          .set({ teamId: newKey });\n        saveSub.unsubscribe();\n        this.closeModal();\n      }\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/start-team/start-team.ts"],"sourceRoot":""}