{"version":3,"sources":["../../src/pages/search/search.module.ts","../../src/pages/search/search.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACV;AAatC,IAAa,gBAAgB;IAA7B;IAA+B,CAAC;IAAD,uBAAC;AAAD,CAAC;AAAnB,gBAAgB;IAX5B,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,2DAAU;SACX;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,2DAAU,CAAC;SACrC;QACD,OAAO,EAAE;YACP,2DAAU;SACX;KACF,CAAC;GACW,gBAAgB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACfa;AAC0B;AACgB;AAC7C;AAEvC;;;;;GAKG;AAMH,IAAa,UAAU;IASrB,oBAAmB,OAAsB,EAAS,SAAoB,EAC7D,EAAuB;QADb,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAC7D,OAAE,GAAF,EAAE,CAAqB;QAPhC,SAAI,GAAW,OAAO;QAQpB,IAAI,CAAC,KAAK,GAAG,IAAI,qDAAO,EAAE,CAAC;QAC3B,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAED,gCAAW,GAAX;QACE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE;YAClC,KAAK,EAAE;gBACL,YAAY,EAAE,MAAM;gBACpB,OAAO,EAAE,IAAI,CAAC,KAAK;aACpB;SACF,CAAC,CAAC;IACL,CAAC;IAED,kCAAa,GAAb;QACE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE;YAClC,KAAK,EAAE;gBACL,YAAY,EAAE,UAAU;gBACxB,OAAO,EAAE,IAAI,CAAC,KAAK;aACpB;SACF,CAAC,CAAC;IACL,CAAC;IAED,6BAAQ,GAAR,UAAS,EAAO;QACd,wCAAwC;QACxC,IAAI,KAAK,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;QAC5B,EAAE,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,IAAI,IAAI,SAAS,CAAC;YAAC,KAAK,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;QACjE,EAAE,CAAC,CAAC,KAAK,CAAC;YAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;IACnC,CAAC;IAED,yBAAI,GAAJ,UAAK,IAAI;QACP,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,OAAO,CAAC;YAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE,EAAE,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC;QAC1E,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,SAAS,CAAC;YAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,gBAAgB,EAAE,CAAC;IACvG,CAAC;IAED,mCAAc,GAAd,UAAe,EAAO;QACpB,IAAI,CAAC,WAAW,GAAG,EAAE;QACrB,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,IAAI,OAAO,CAAC;YAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QAC5C,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,IAAI,SAAS,CAAC;YAAC,IAAI,CAAC,aAAa,EAAE,CAAC;QAChD,mCAAmC;IACrC,CAAC;IAEH,iBAAC;AAAD,CAAC;AApDY,UAAU;IALtB,wEAAS,EAAE;IACX,wEAAS,CAAC;QACT,QAAQ,EAAE,aAAa;OACG;KAC3B,CAAC;4FAUsE;QACzD,OAAmB;AA0CjC;SApDY,UAAU,e","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SearchPage } from './search';\n\n@NgModule({\n  declarations: [\n    SearchPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SearchPage),\n  ],\n  exports: [\n    SearchPage\n  ]\n})\nexport class SearchPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\nimport { Subject } from 'rxjs/Subject';\n\n/**\n * Generated class for the SearchPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-search',\n  templateUrl: 'search.html',\n})\nexport class SearchPage {\n\n  query: Subject<any>;\n  type: string = 'teams'\n  items: FirebaseListObservable<any[]>;\n  nameResults: FirebaseListObservable<any[]>;\n  queryString: string\n\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public db: AngularFireDatabase) {\n    this.query = new Subject();\n    this.searchTeams();\n  }\n\n  searchTeams() {\n    this.items = this.db.list('teams/', {\n      query: {\n        orderByChild: 'name',\n        startAt: this.query\n      }\n    });\n  }\n\n  searchPlayers() {\n    this.items = this.db.list('users/', {\n      query: {\n        orderByChild: 'username',\n        equalTo: this.query\n      }\n    });\n  }\n\n  getItems(ev: any) {\n    // set val to the value of the searchbar\n    let query = ev.target.value;\n    if (query && this.type == 'players') query = query.toLowerCase();\n    if (query) this.query.next(query)\n  }\n\n  open(item) {\n    if (this.type == 'teams') this.navCtrl.push('TeamPage', { id: item.$key })\n    else if (this.type == 'players') this.navCtrl.push('PlayerPage', { username: item.originalUsername })\n  }\n\n  segmentChanged(ev: any) {\n    this.queryString = ''\n    if (ev.value == 'teams') this.searchTeams();\n    if (ev.value == 'players') this.searchPlayers();\n    //this.query.next(this.queryString)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts"],"sourceRoot":""}