{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"16.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HomePage } from './home';\nimport { ComponentsModule } from '../../components/components.module'\n\n@NgModule({\n  declarations: [HomePage],\n  imports: [\n    ComponentsModule,\n    IonicPageModule.forChild(HomePage)\n  ]\n})\nexport class HomePageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component, ViewChild } from '@angular/core';\nimport {\n  IonicPage, NavController, ActionSheetController,\n  ModalController, Content\n} from 'ionic-angular';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { MyTeamDB } from '../../helpers/myTeamDB';\n\n@IonicPage()\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n  @ViewChild(Content) content: Content;\n  currentUser: any = {}\n  currentUserId: any\n  posts: any[]\n  blur: boolean = false;\n  type: string = 'all';\n  constructor(private afAuth: AngularFireAuth, private modal: ModalController,\n    private teamDB: MyTeamDB, private actionSheetCtrl: ActionSheetController,\n    public navCtrl: NavController) {\n    this.currentUserId = this.afAuth.auth.currentUser.uid;\n  }\n\n  ionViewDidLoad() {\n    this.loadUser();\n    this.loadPosts('all');\n  }\n\n  loadUser() {\n    this.teamDB.getUserInfo(this.afAuth.auth.currentUser.uid)\n      .then(user => {\n        this.currentUser = user;\n      })\n  }\n\n  loadPosts(type) {\n    let result;\n    if (type == 'all') {\n      this.teamDB.getAllPosts().then(data => {\n        result = data;\n        this.posts = result;\n        this.posts.reverse();\n      })\n    } else {\n      this.teamDB.getPosts(type).then(data => {\n        result = data;\n        this.posts = result;\n        this.posts.reverse();\n      })\n    }\n  }\n\n  segmentChanged() {\n    this.loadPosts(this.type)\n  }\n\n  doRefresh(refresher) {\n    this.loadUser();\n    this.loadPosts(this.type);\n    setTimeout(() => {\n      //console.log('Async operation has ended');\n      refresher.complete();\n    }, 1000);\n  }\n\n  openModal() {\n    this.navCtrl.push('PlayerPage', { player: this.currentUser });\n  }\n\n  compose() {\n    const myModal = this.modal.create('ComposePage', { player: this.currentUser })\n    myModal.present();\n    this.blur = true;\n    myModal.onWillDismiss(data => {\n      this.blur = false;\n      if (data.postDone) this.loadPosts(this.type);\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}