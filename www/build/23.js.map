{"version":3,"sources":["../../src/pages/add-player/add-player.module.ts","../../src/pages/add-player/add-player.ts"],"names":[],"mappings":"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","file":"23.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddPlayerPage } from './add-player';\n\n@NgModule({\n  declarations: [\n    AddPlayerPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddPlayerPage),\n  ],\n  exports: [\n    AddPlayerPage\n  ]\n})\nexport class AddPlayerPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-player/add-player.module.ts","import { Component } from '@angular/core';\nimport {\n  IonicPage, NavController, ToastController,\n  NavParams, ViewController\n} from 'ionic-angular';\nimport { MyTeamDB } from '../../helpers/myTeamDB'\nimport { User } from '../../models/user';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { UsernameValidator } from '../../validators/username'\n\n/**\n * Generated class for the AddPlayerPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-add-player',\n  templateUrl: 'add-player.html',\n})\nexport class AddPlayerPage {\n  player = {};\n  user = {} as User;\n  team: any\n  public requestPlayerForm: any;\n\n  constructor(private view: ViewController,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private teamDB: MyTeamDB,\n    private _form: FormBuilder,\n    private unameValid: UsernameValidator,\n    private toast: ToastController) {\n    this.team = navParams.get('team');\n    let usernameValidator = (control) => {\n      return unameValid.checkValidUsername(control);\n    };\n    let teamValidator = (control) => {\n      return unameValid.checkTeam(control, this.team.$key);\n    };\n    this.requestPlayerForm = _form.group({\n      \"username\": ['',\n        Validators.compose([Validators.required,\n        Validators.pattern('^[a-zA-Z0-9_.-]*$')]),\n        Validators.composeAsync([usernameValidator, teamValidator])]\n    })\n  }\n\n  closeModal() {\n    this.view.dismiss();\n  }\n\n  async requestAddPlayer(player) {\n    let user;\n    await this.teamDB.findUID(player.username.toLowerCase()).then(data => {\n      user = data;\n    })\n    if (this.requestPlayerForm.valid && user.$key) {\n\n      this.teamDB.sendRequestToPlayer(user.$key, this.team.$key)\n\n      this.toast.create({\n        message: 'تم إرسال الإضافة  بنجاح',\n        duration: 2200,\n        position: 'top'\n      }).present();\n\n      this.view.dismiss();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-player/add-player.ts"],"sourceRoot":""}