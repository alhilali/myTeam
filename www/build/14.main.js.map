{"version":3,"sources":["../../src/pages/match/match.module.ts","../../src/pages/match/match.ts"],"names":[],"mappings":"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","file":"14.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MatchPage } from './match';\nimport { ComponentsModule } from '../../components/components.module'\n\n@NgModule({\n  declarations: [\n    MatchPage,\n  ],\n  imports: [\n    ComponentsModule,\n    IonicPageModule.forChild(MatchPage),\n  ],\n  exports: [\n    MatchPage\n  ]\n})\nexport class MatchPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/match/match.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { MyTeamDB } from '../../helpers/myTeamDB';\nimport { AngularFireDatabase, FirebaseObjectObservable } from 'angularfire2/database';\nimport { AngularFireAuth } from 'angularfire2/auth';\n\n/**\n * Generated class for the MatchPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-match',\n  templateUrl: 'match.html',\n})\nexport class MatchPage {\n  homeTeam: any = {}\n  awayTeam: any = {}\n  date: any\n  time: any\n  stadium: any\n  requestInfo: any\n  request: FirebaseObjectObservable<any>;\n  previousGames: any[] = []\n  currentUser: boolean = false\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    private view: ViewController,\n    private teamDB: MyTeamDB,\n    public db: AngularFireDatabase,\n    public afAuth: AngularFireAuth) {\n      this.requestInfo = this.navParams.get('request');\n      this.request = this.db.object('/matches/'+this.requestInfo.$key)\n      if (this.afAuth.auth.currentUser.uid == this.requestInfo.toUID) this.currentUser = true;\n  }\n\n  ionViewDidLoad() {\n    this.initData();\n  }\n\n  async initData() {\n    await this.teamDB.getTeamInfo(this.requestInfo.homeTeam).then(data=>{\n      this.homeTeam = data;\n    })\n\n    await this.teamDB.getTeamInfo(this.requestInfo.awayTeam).then(data=>{\n      this.awayTeam = data;\n    })\n  }\n\n  acceptMatch() {\n    // Update request status\n    this.db.object('/matches/'+this.requestInfo.$key).update({status: 'approved'})\n\n    // Add match to home team DB\n    this.db.object('/teams/'+this.requestInfo.homeTeam+'/upcomingMatches/'\n    +this.requestInfo.$key).set({\n      homeTeam: this.requestInfo.homeTeam,\n      awayTeam: this.requestInfo.awayTeam,\n      date: this.requestInfo.date\n    })\n\n    // Add match to away team DB\n    this.db.object('/teams/'+this.requestInfo.awayTeam+'/upcomingMatches/'\n    +this.requestInfo.$key).set({\n      homeTeam: this.requestInfo.homeTeam,\n      awayTeam: this.requestInfo.awayTeam,\n      date: this.requestInfo.date\n    })\n  }\n\n  declineMatch() {\n    this.view.dismiss();\n    this.db.object('/matches/'+this.requestInfo.$key).remove();\n  }\n\n  openTeam(team) {\n    this.navCtrl.push('TeamPage', {team: team})\n  }\n\n  closeModel() {\n    this.view.dismiss();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/match/match.ts"],"sourceRoot":""}