{"version":3,"sources":["../../src/pages/add-player-to-team/add-player-to-team.module.ts","../../src/pages/add-player-to-team/add-player-to-team.ts"],"names":[],"mappings":"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","file":"24.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddPlayerToTeamPage } from './add-player-to-team';\nimport { ComponentsModule } from '../../components/components.module'\n\n@NgModule({\n  declarations: [\n    AddPlayerToTeamPage,\n  ],\n  imports: [\n    ComponentsModule,\n    IonicPageModule.forChild(AddPlayerToTeamPage),\n  ],\n  exports: [\n    AddPlayerToTeamPage\n  ]\n})\nexport class AddPlayerToTeamPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-player-to-team/add-player-to-team.module.ts","import { User } from \"./../../models/user\";\nimport { Component } from '@angular/core';\nimport {\n  IonicPage, NavController, NavParams,\n  ViewController, AlertController, ToastController\n} from 'ionic-angular';\nimport { MyTeamDB } from '../../helpers/myTeamDB'\n\n/**\n * Generated class for the AddPlayerToTeamPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-add-player-to-team',\n  templateUrl: 'add-player-to-team.html',\n})\nexport class AddPlayerToTeamPage {\n  myTeams = []\n  teamsSelected = []\n  error: boolean = false\n  status: boolean\n  playerUID: string\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    private view: ViewController,\n    private teamDB: MyTeamDB,\n    private alertCtrl: AlertController,\n    private toast: ToastController) {\n    this.playerUID = navParams.get('id');\n  }\n\n  async ionViewDidLoad() {\n    await this.teamDB.getMyTeamsCaptain().then(data => {\n      this.myTeams = data;\n    })\n  }\n\n  async updateTeamsSelected(team) {\n    const index = this.teamsSelected.indexOf(team);\n    await this.teamDB.checkTeamPlayers(team.$key, this.playerUID).then(data => {\n      if (data && index < 0) {\n        this.presentAlert(team.name)\n      }\n    })\n    if (index > -1) this.teamsSelected.splice(index, 1)\n    else this.teamsSelected.push(team)\n\n    // No teams selected then disable button\n    if (this.teamsSelected.length == 0) this.error = false;\n  }\n\n  async requestAddPlayer() {\n    this.error = false;\n    for (let i = 0; i < this.teamsSelected.length; i++) {\n      await this.teamDB.checkTeamPlayers(this.teamsSelected[i].$key, this.playerUID).then(data => {\n        if (data) {\n          this.presentAlert(this.teamsSelected[i].name);\n          this.error = true;\n        }\n      })\n      if (!this.error) this.teamDB.sendRequestToPlayer(this.playerUID, this.teamsSelected[i].$key)\n    }\n    if (this.teamsSelected.length == 0) this.alert()\n    else if (!this.error) {\n      this.toast.create({\n        message: 'تم إرسال الإضافة  بنجاح',\n        duration: 2200,\n        position: 'top'\n      }).present();\n      this.view.dismiss();\n    }\n  }\n\n  presentAlert(teamName) {\n    let alert = this.alertCtrl.create({\n      title: 'خطأ',\n      subTitle: 'سبق وتم اضافة اللاعب في فريق ' + teamName + \"، الرجاء ازالة اختيار الفريق لإتمام العملية\",\n      buttons: ['حسناً']\n    });\n    alert.present();\n  }\n\n  alert() {\n    let alert = this.alertCtrl.create({\n      title: 'خطأ',\n      subTitle: \"الرجاء اختيار فريق واحد على الأقل\",\n      buttons: ['حسناً']\n    });\n    alert.present();\n  }\n\n  closeModel() {\n    this.view.dismiss();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-player-to-team/add-player-to-team.ts"],"sourceRoot":""}